# –§–æ—Ä–º–∞—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è N8N –∞–≥–µ–Ω—Ç–∞

## üì§ –ß—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç N8N –∞–≥–µ–Ω—Ç

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ payload:

```json
{
  "user": {
    "telegram_id": 123456789,
    "email": "user@example.com",
    "channel_url": "https://t.me/username",
    "first_name": "–ò–º—è",
    "last_name": "–§–∞–º–∏–ª–∏—è"
  },
  "answers": {
    "name_profession": "–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–Ω–Ω–∞, —è –¥–∏–µ—Ç–æ–ª–æ–≥",
    "target_clients": "–ñ–µ–Ω—â–∏–Ω—ã 30+ —Å –ª–∏—à–Ω–∏–º –≤–µ—Å–æ–º",
    "results_timeline": "–ü–æ–º–æ–≥–∞—é –ø–æ—Ö—É–¥–µ—Ç—å –Ω–∞ 5-7 –∫–≥ –∑–∞ –º–µ—Å—è—Ü",
    "main_service": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è",
    "what_exclude": "–ë–µ–∑ –∂–µ—Å—Ç–∫–∏—Ö –¥–∏–µ—Ç –∏ –≥–æ–ª–æ–¥–∞–Ω–∏—è"
  },
  "materials": [
    "5 —Å–µ–∫—Ä–µ—Ç–æ–≤ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ—Ö—É–¥–µ–Ω–∏—è https://t.me/channel/post123",
    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–µ–±–∏–Ω–∞—Ä –ø–æ –ø–∏—Ç–∞–Ω–∏—é https://example.com/webinar",
    "–ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –¥–ª—è –ø–æ—Ö—É–¥–µ–Ω–∏—è https://example.com/recipes"
  ],
  "request_type": "generate_post",
  "session_id": 456,
  "timestamp": 1701234567
}
```

## üìã –§–æ—Ä–º–∞—Ç –ø–æ–ª—è "materials"

**–¢–∏–ø:** –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫  
**–ú–∞–∫—Å–∏–º—É–º:** 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
**–§–æ—Ä–º–∞—Ç –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞:** `"–û–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ URL"`

### –ü—Ä–∏–º–µ—Ä—ã:

```json
"materials": [
  "–¢–æ–ø-10 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –¥–ª—è –¥–æ–º–∞ https://t.me/fitness/123",
  "–í–∏–¥–µ–æ —É—Ä–æ–∫ –ø–æ –π–æ–≥–µ https://youtube.com/watch?v=abc123",
  "–°—Ç–∞—Ç—å—è –æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–∏—Ç–∞–Ω–∏–∏ https://myblog.com/nutrition",
  "–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è https://calendly.com/coach",
  "–ß–µ–∫-–ª–∏—Å—Ç –∑–¥–æ—Ä–æ–≤–æ–≥–æ –∑–∞–≤—Ç—Ä–∞–∫–∞ https://drive.google.com/file/d/123"
]
```

## üîç –ß—Ç–æ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∞—Å—Å–∏–≤:

- **0 —ç–ª–µ–º–µ–Ω—Ç–æ–≤** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–±–∞–≤–∏–ª –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- **1-5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤** - –∫–∞–∂–¥—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ + —Å—Å—ã–ª–∫—É —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª
- **–¢–æ–ª—å–∫–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ** - –ø—É—Å—Ç—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã

## üí° –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∞–≥–µ–Ω—Ç–µ:

### –ü—Ä–æ—Å—Ç–æ–µ —á—Ç–µ–Ω–∏–µ:
```javascript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
const materials = payload.materials;

// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
const count = materials.length;

// –ü–µ—Ä–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª
const firstMaterial = materials[0]; // "–û–ø–∏—Å–∞–Ω–∏–µ https://example.com"
```

### –ü–∞—Ä—Å–∏–Ω–≥ –æ–ø–∏—Å–∞–Ω–∏—è –∏ —Å—Å—ã–ª–∫–∏:
```javascript
materials.forEach(material => {
  const parts = material.split(' ');
  const url = parts[parts.length - 1]; // –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç - —Å—Å—ã–ª–∫–∞
  const description = parts.slice(0, -1).join(' '); // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –æ–ø–∏—Å–∞–Ω–∏–µ
  
  console.log(`–û–ø–∏—Å–∞–Ω–∏–µ: ${description}`);
  console.log(`–°—Å—ã–ª–∫–∞: ${url}`);
});
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–º–ø—Ç–µ:
```javascript
const materialsText = materials.length > 0 
  ? `–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:\n${materials.map((m, i) => `${i+1}. ${m}`).join('\n')}`
  : '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã';

const prompt = `–°–æ–∑–¥–∞–π –ø–æ—Å—Ç –¥–ª—è:
${JSON.stringify(payload.answers, null, 2)}

${materialsText}`;
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, –∫–∞–∫ —Ä–∞–Ω—å—à–µ —Å —Å—Å—ã–ª–∫–∞–º–∏
2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ + URL
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∞–≥–µ–Ω—Ç–∞
4. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –ê–≥–µ–Ω—Ç –≤–∏–¥–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ç–µ—Ä–∏–∞–ª–µ

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:

**–ë—ã–ª–æ:** `"links": ["url1", "url2"]`  
**–°—Ç–∞–ª–æ:** `"materials": ["–æ–ø–∏—Å–∞–Ω–∏–µ1 url1", "–æ–ø–∏—Å–∞–Ω–∏–µ2 url2"]`

–ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –ª–µ–≥–∫–æ –∏–∑–≤–ª–µ—á—å URL –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ split(' ').
