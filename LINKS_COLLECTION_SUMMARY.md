# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –°–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–æ–ø–∏—Å–∞–Ω–∏–µ + —Å—Å—ã–ª–∫–∞) –ø–æ—Å–ª–µ 5 –≤–æ–ø—Ä–æ—Å–æ–≤

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### üìã –ù–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:
1. **5 –≤–æ–ø—Ä–æ—Å–æ–≤** (–æ–±–Ω–æ–≤–ª–µ–Ω–æ) ‚úÖ
2. **–°–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤** (–Ω–æ–≤—ã–π –±–ª–æ–∫) ‚úÖ
   - –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ 5-–π –≤–æ–ø—Ä–æ—Å
   - –î–æ 5 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –º–∞–∫—Å–∏–º—É–º
   - –§–æ—Ä–º–∞—Ç: "–û–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ + —Å—Å—ã–ª–∫–∞"
   - –ù–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∏ URL
3. **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ N8N** ‚úÖ
   - 5 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
   - –ú–∞—Å—Å–∏–≤ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ (0-5 —à—Ç—É–∫)

### üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ N8N payload:

```json
{
  "user": { ... },
  "answers": {
    "name_profession": "–æ—Ç–≤–µ—Ç_1",
    "target_clients": "–æ—Ç–≤–µ—Ç_2", 
    "results_timeline": "–æ—Ç–≤–µ—Ç_3",
    "main_service": "–æ—Ç–≤–µ—Ç_4",
    "what_exclude": "–æ—Ç–≤–µ—Ç_5",
    "popular_posts": "–æ—Ç–≤–µ—Ç_6"
  },
  "materials": [
    "5 —Å–µ–∫—Ä–µ—Ç–æ–≤ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ—Ö—É–¥–µ–Ω–∏—è https://t.me/channel/post123",
    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–µ–±–∏–Ω–∞—Ä –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É https://example.com/webinar",
    "–ü–æ–ª–µ–∑–Ω–∞—è —Å—Ç–∞—Ç—å—è –æ –¥–∏–µ—Ç–∞—Ö https://example.com/article"
  ] // –æ—Ç 0 –¥–æ 5 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (—Å—Ç—Ä–æ–∫–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º + —Å—Å—ã–ª–∫–æ–π)
  "request_type": "generate_post",
  "session_id": 123,
  "timestamp": 1234567890
}
```

### üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã
1. –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤
2. "üîó –û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ–±–µ—Ä–µ–º –≤–∞—à–∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã..."
3. "üîó –ú–∞—Ç–µ—Ä–∏–∞–ª 1 –∏–∑ 5: –û–ø–∏—à–∏—Ç–µ –≤–∞—à –º–∞—Ç–µ—Ä–∏–∞–ª –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É..."
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: "5 —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø–æ—Ö—É–¥–µ–Ω–∏—è https://example.com"
5. –ò —Ç–∞–∫ –¥–æ 5 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏–ª–∏ –¥–æ –Ω–∞–∂–∞—Ç–∏—è "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
6. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ N8N —Å –º–∞—Å—Å–∏–≤–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã
1. –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤
2. "üîó –ú–∞—Ç–µ—Ä–∏–∞–ª 1 –∏–∑ 5..." + –∫–Ω–æ–ø–∫–∞ "‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" 
3. –ù–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" ‚Üí —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ N8N
4. –í N8N –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤: `"materials": []`

#### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–º–µ—à–∞–Ω–Ω—ã–π (2 –º–∞—Ç–µ—Ä–∏–∞–ª–∞ + –ø—Ä–æ–ø—É—Å–∫)
1. –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤
2. –î–æ–±–∞–≤–ª—è–µ—Ç 2 –º–∞—Ç–µ—Ä–∏–∞–ª–∞ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
3. –ù–∞ 3-–º –º–∞—Ç–µ—Ä–∏–∞–ª–µ –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
4. –í N8N: `"materials": ["–æ–ø–∏—Å–∞–Ω–∏–µ + —Å—Å—ã–ª–∫–∞", "–æ–ø–∏—Å–∞–Ω–∏–µ + —Å—Å—ã–ª–∫–∞"]`

### üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- –ü–æ–ª—è: `link_1` - `link_5` —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω—è—Ç JSON —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º + URL
- –§–æ—Ä–º–∞—Ç: `{"description": "–æ–ø–∏—Å–∞–Ω–∏–µ", "url": "—Å—Å—ã–ª–∫–∞"}`
- –°—Ç–∞—Ç—É—Å: `collecting_links` –¥–ª—è —Å–±–æ—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –ú–µ—Ç–æ–¥—ã: `get_session_links()`, `update_session_link()`

#### –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞:
- –ü–æ—Å–ª–µ 5-–≥–æ –≤–æ–ø—Ä–æ—Å–∞ ‚Üí `_start_links_collection()`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤: `_handle_link_input()`
- –í–∞–ª–∏–¥–∞—Ü–∏—è: `extract_description_and_link()`, `validate_description_and_link()`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å": `_handle_skip_links()`
- –í–∞–ª–∏–¥–∞—Ü–∏—è URLs —á–µ—Ä–µ–∑ `is_valid_url()`

#### N8N –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- –û–±–Ω–æ–≤–ª–µ–Ω `send_post_generation_request()` –¥–ª—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –ù–æ–≤–æ–µ –ø–æ–ª–µ –≤ payload: `"materials": ["–æ–ø–∏—Å–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∞", "–æ–ø–∏—Å–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∞"]`
- –ú–∞—Å—Å–∏–≤ —Ç–æ–ª—å–∫–æ —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

### üìÅ –§–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è:
1. `migration_add_answers_4_5_6.sql` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ Python —Ñ–∞–π–ª—ã
3. `MIGRATION_INSTRUCTIONS.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ 6 –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- ‚úÖ 0-5 —Å—Å—ã–ª–æ–∫ –ø–æ –∂–µ–ª–∞–Ω–∏—é  
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ N8N
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
